<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trip Booking Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),url(./images/form-bg.jpg);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    position: relative;
    filter: brightness(100%);
    background-attachment: fixed; 
    background-color: #3f9679;
}

/* background for smaller screens */
    @media (max-width: 768px) {
        body {
            background-size: contain; 
            background-attachment: fixed; 
        }
    }

    @media (max-width: 480px) {
        body {
            background-size: cover;
            background-position: top;
        }
    }
        #loading {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
        }
    </style>
    <script src="./scripts/form.js"></script>
    <!-- <script>
        function validateForm(event) {
    event.preventDefault(); // Prevents direct submission

    let email = document.getElementById('email').value;
    let contact = document.getElementById('contact').value;
    let emergency = document.getElementById('emergency').value;
    let fromDate = document.getElementById('fromDate').value;
    let toDate = document.getElementById('toDate').value;

    let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    let phonePattern = /^[0-9]{10,}$/;

    if (!emailPattern.test(email)) {
        alert('Invalid email address');
        return;
    }
    if (!phonePattern.test(contact) || !phonePattern.test(emergency)) {
        alert('Invalid phone number (must be at least 10 digits).');
        return;
    }
    if (new Date(fromDate) > new Date(toDate)) {
        alert('Invalid date range');
        return;
    }

    submitForm();
}

function submitForm() {
    let submitButton = document.querySelector("button[type='submit']");
    let spinner = document.getElementById("loadingSpinner");

    submitButton.disabled = true;
    spinner.classList.remove("d-none"); // Show loading spinner

    let formData = {
        fromDate: document.getElementById("fromDate").value,
        toDate: document.getElementById("toDate").value,
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        persons: document.getElementById("persons").value,
        kids: document.getElementById("kids").value,
        contact: document.getElementById("contact").value,
        emergency: document.getElementById("emergency").value,
        departure: document.getElementById("departure").value,
        destination: document.getElementById("destination").value,
        transport: document.getElementById("transport").value,
        accommodation: document.getElementById("accommodation").value,
        budget: document.getElementById("budget").value,
        payment: document.getElementById("payment").value,
        special: document.getElementById("special").value
    };

    let sheetURL = "https://script.google.com/macros/s/AKfycbz_DsMi9ecu7BQ84yblKlgUcvves2tuCIXCxmV9JFfn1JEHSxgbG9f4Jatcikjdu1J0Pw/exec"; // Replace with actual URL

    fetch(sheetURL, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData)
    }).then(response => {
        alert("Your trip has been booked!");
        document.querySelector("form").reset(); // Clear form after submission
    }).catch(error => {
        alert("Error submitting form.");
    }).finally(() => {
        submitButton.disabled = false;
        spinner.classList.add("d-none"); // Hide spinner
    });
}

    </script> -->
    
</head>
<body>
    <div class="container text-light">
        <img src="./images/logo.png" class="mx-auto d-block img-fluid" style="width: 20%;" alt="">
        <h2 class="text-center">Plan Your Customize Trip</h2>
        <p class="text-center">Please fill out the form below to plan your trip and we will get back to you.</p>
        <form onsubmit="validateForm(event)">
            <div class="row g-4">
                <div class="col-md-6">
                    <label for="fromDate" class="form-label">Date From</label>
                    <input type="date" id="fromDate" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label for="toDate" class="form-label">Date To</label>
                    <input type="date" id="toDate" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label for="name" class="form-label">Full Name</label>
                    <input type="text" id="name" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" id="email" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="persons" class="form-label">No. of Persons</label>
                    <input type="number" id="persons" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="kids" class="form-label">No. of Kids</label>
                    <input type="number" id="kids" class="form-control">
                </div>
                <div class="col-md-4">
                    <label for="contact" class="form-label">Contact</label>
                    <input type="text" id="contact" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="emergency" class="form-label">Emergency Number</label>
                    <input type="text" id="emergency" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="departure" class="form-label">Departure</label>
                    <input type="text" id="departure" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="destination" class="form-label">Destination</label>
                    <input type="text" id="destination" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="transport" class="form-label">Preferred Transport</label>
                    <select id="transport" class="form-select">
                        <option>Bus</option>
                        <option>Car</option>
                        <option>Other</option>

                    </select>
                </div>
                <div class="col-md-4">
                    <label for="accommodation" class="form-label">Accommodation Type</label>
                    <select id="accommodation" class="form-select">
                        <option>Hotel</option>
                        <option>Resort</option>
                        <option>Airbnb</option>
                        <option>None</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="budget" class="form-label">Budget Range</label>
                    <select id="budget" class="form-select">
                        <option>Low</option>
                        <option>Medium</option>
                        <option>High</option>
                    </select>
                </div>
                <div class="col-md-12">
                    <label for="special" class="form-label">Special Requirements</label>
                    <textarea id="special" class="form-control" rows="3"></textarea>
                </div>
            </div>
            <div class="text-center mt-4 mb-4 ">
                <button type="submit" class="btn btn-primary">
                    <span id="loadingSpinner" class="spinner-border spinner-border-sm d-none"></span>
                    Book Trip
                </button>
                <button type="reset" class="btn btn-secondary">Reset</button>
            </div>
        </form>
        
    </div>
</body>
</html>
